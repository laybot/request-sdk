====================================================================  
AI-ä¸­å°ï¼ˆFastAPIï¼‰æ¥å£æ€»è§ˆ  
====================================================================

å…¬å…±è¯´æ˜  
â€¢ Base-URL: `https://api.laybot.cn`  
â€¢ Header: `X-API-Key`ï¼›IP ç™½åå•æ ¡éªŒ  
â€¢ æ‰€æœ‰é”™è¯¯éƒ½è¿”å› JSON `{code,message,request_id}`

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
â”‚ 1. é€šç”¨ /v1/chatï¼ˆPOSTï¼‰              â”‚  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  
body å­—æ®µ  
| å­—æ®µ          | å¿…å¡« | è¯´æ˜                                        |
|---------------|------|---------------------------------------------|
| model         | âœ”ï¸   | LB-Cosmos / LB-Vega â€¦                       |
| capability    | âœ”ï¸   | chat / audio / vision / embed / batch / tune|
| endpoint      | âœ”ï¸   | /v1/chat & å­è·¯å¾„ï¼Œå¦‚ /v1/audio/speech      |
| messages      | *chat å¿…å¡«* | OpenAI é£æ ¼ array                     |
| â€¦OpenAI å‚æ•°  | Â¶    | temperature/top_p/max_tokens/...            |

â€¢ capability å›ºå®šå€¼ç”± SDK å†³å®šï¼Œç”¨æˆ·ä¸å¯æ”¹  
â€¢ endpoint ç¼ºçœ `/v1/chat`ï¼Œå…è®¸ `/v2/chat` ç­‰å‘åå…¼å®¹

è¿”å›ï¼ˆéæµå¼ç¤ºä¾‹ï¼‰
```
{
  "choices":[...],
  "usage":{"bill_tokens":168,"bill_credit":0.014},
  "request_id":"uuid"
}
```

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
â”‚ 2. æ–‡ä»¶æ¥å£                            â”‚  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  
POST /v1/files        | multipart | purpose=batch / tune / general  
GET  /v1/files/{id}/content  
DELETE /v1/files/{id}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
â”‚ 3. Batch ä¸“ç”¨                           â”‚  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  
POST   /v1/batch                ï¼ˆä¸­å°å†…éƒ¨è½¬ /v1/chat capability=batchï¼‰  
GET    /v1/batch/{id}  
POST   /v1/batch/{id}/cancel  
GET    /v1/batch?limit=20

å­—æ®µåŒ OpenAI Batchï¼šinput_file_id / status / output_file_id â€¦

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
â”‚ 4. Doc è§£æ                             â”‚  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  
POST /v1/doc           {url,mode,text,math}   â‰¤3 MiB åŒæ­¥ / å…¶ä½™å¼‚æ­¥  
GET  /v1/doc/{job_id}  è¿”å› status/progress/result_url/credit_cost

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
â”‚ 5. Fine-Tune                            â”‚  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  
POST /v1/fine_tuning/jobs       ï¼ˆä»èµ° /v1/chat capability=tuneï¼‰  
GET  /v1/fine_tuning/jobs/{id}  
POST /v1/fine_tuning/jobs/{id}/cancel

====================================================================  
ä½¿ç”¨èŒƒä¾‹ï¼ˆWebman æµå¼ + Batchï¼‰  
====================================================================
```php
use LayBot\Chat;
use LayBot\Batch;

/* ----------- æµå¼èŠå¤© ----------- */
$chat = new Chat('sk-live');   // Webman é‡Œè‡ªåŠ¨ç”¨ AsyncTcp

$chat->completions([
  'model'  => 'LB-Cosmos',
  'stream' => true,
  'messages'=>[['role'=>'user','content'=>'è§£é‡Šç‰›é¡¿ç¬¬äºŒå®šå¾‹']]
],[
  'stream'=>fn($c,$done)=>echo $done?PHP_EOL:($c['choices'][0]['delta']['content']??'')
]);

/* ----------- æ‰¹é‡ä»»åŠ¡ ----------- */
$batch = new Batch('sk-live');
$file  = $batch->uploadJsonl(__DIR__.'/req.jsonl');
$job   = $batch->create($file['id']);
echo "batch id: {$job['id']}\n";
```

è‡³æ­¤ï¼š  
â€¢ SDKï¼šChat / Doc / File / Batch / Audio / Embed / FineTune / Image å…¨éƒ¨åˆ°ä½ï¼›  
â€¢ ä¸­å°æ¥å£å­—æ®µè¡¨äº¦ç»™å‡ºï¼Œå¼€å‘ã€æµ‹è¯•ã€è”è°ƒå‡å¯ç›´æ¥ç…§æ­¤æ‰§è¡Œã€‚  
å¦‚éœ€å†æ‰©æ‰©èƒ½åŠ›ï¼Œåªéœ€å¤åˆ¶æ¨¡æ¿è°ƒç”¨ `$this->ready()` å¹¶æ”¹é»˜è®¤ endpoint å³å¯ã€‚ç¥é¡ºåˆ©ä¸Šçº¿ ğŸš€